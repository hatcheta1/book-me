<a href="/bookings/<%= booking.id %>" class="list-group-item d-flex justify-content-between align-items-center">
  <div>
    <div>
      <%= booking.service.name %>
      <% if current_user == booking.business.owner %>
        for <%= booking.client.full_name %>
      <% else %>
        at <%= booking.business.name %>
      <% end %>
    </div>

    <div>
      <%= booking.format_time(booking.started_at) %> - <%= booking.format_time(booking.ended_at) %> on
      <%= booking.format_date(booking.started_at) %>
    </div>

    <div>
      Price: $<%= booking.service.price %>
    </div>
  </div>

  <div class="text-end">
    <% if current_user == booking.business.owner %>
      <% if booking.status == "pending" %>
        <%= button_to "Accept", accept_booking_path(booking), method: :patch, class: "btn btn-success btn-sm mb-1" %>
        <%= button_to "Decline", decline_booking_path(booking), method: :patch, class: "btn btn-danger btn-sm" %>
      <% else %>
        <% if booking.status == "accepted" %>
          <span class="badge bg-success">Accepted</span>
        <% elsif booking.status == "declined" %>
          <span class="badge bg-danger">Declined</span>
        <% end %>
      <% end %>
    <% else %>
      <% if booking.status == "pending" %>
        <span class="badge bg-warning text-dark">Pending</span>
      <% elsif booking.status == "accepted" %>
        <span class="badge bg-success">Accepted</span>
      <% elsif booking.status == "declined" %>
        <span class="badge bg-danger">Declined</span>
      <% end %>
    <% end %>
  </div>
</a>
